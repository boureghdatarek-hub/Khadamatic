<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>Ù…Ù†ØµØ© Ø®Ø¯Ù…Ø§ØªÙŠ - ØªØ³ÙˆÙ‚</title>
    <style>
        body { font-family: sans-serif; text-align: center; background: #f4f4f4; padding: 20px; padding-bottom: 150px; }
        .card { background: white; padding: 15px; margin: 10px auto; width: 90%; max-width: 400px; border-radius: 10px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); display: flex; justify-content: space-between; align-items: center; }
        .btn-add { background: #2ecc71; color: white; border: none; padding: 10px; border-radius: 5px; cursor: pointer; }
        #cart-bar { position: fixed; bottom: 0; left: 0; right: 0; background: #333; color: white; padding: 20px; display: none; }
        .input-box { width: 90%; max-width: 380px; padding: 10px; margin: 5px; border-radius: 5px; border: 1px solid #ccc; }
    </style>
</head>
<body>
    <h1>ğŸ¥¦ Ù…Ù†ØµØ© Ø®Ø¯Ù…Ø§ØªÙŠ ğŸ</h1>
    <input type="text" id="name" class="input-box" placeholder="Ø§Ø³Ù…Ùƒ Ø§Ù„ÙƒØ±ÙŠÙ…">
    <input type="text" id="address" class="input-box" placeholder="Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ØªÙˆØµÙŠÙ„">

    <div id="products-list"></div>
    <div id="delivery-list"></div>

    <div id="cart-bar">
        <div id="cart-items"></div>
        <button onclick="sendOrder()" style="background:#27ae60; color:white; border:none; padding:10px 20px; border-radius:5px; margin-top:10px;">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨ ğŸ›’</button>
    </div>

    <script>
        const scriptURL = "https://script.google.com/macros/s/AKfycby19aP00fcc10njWFiUfA-7Xqv_O8wANzfQ1foFoxWMTDGTa2EfoTC2D1GdR58waYAedQ/exec";
        let cart = [];

        fetch(scriptURL)
            .then(res => res.json())
            .then(data => {
                let pList = '<h3>Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</h3>';
                [...data.veg, ...data.fruit].forEach(item => {
                    pList += `<div class="card">
                        <div><strong>${item[0]}</strong><br>${item[2]} Ø¯Ø¬</div>
                        <button class="btn-add" onclick="addToCart('${item[0]}', ${item[2]})">Ø¥Ø¶Ø§ÙØ© +</button>
                    </div>`;
                });
                document.getElementById('products-list').innerHTML = pList;

                let dList = '<h3>Ø§Ù„Ù…ÙˆØµÙ„ÙŠÙ†</h3>';
                data.delivery.forEach(del => {
                    dList += `<div class="card">ğŸšš ${del[2]} - Ø§Ù„Ù…Ù†Ø·Ù‚Ø©: ${del[0]}</div>`;
                });
                document.getElementById('delivery-list').innerHTML = dList;
            });

        function addToCart(name, price) {
            cart.push({name, price});
            document.getElementById('cart-bar').style.display = 'block';
            document.getElementById('cart-items').innerText = "Ø§Ù„Ø·Ù„Ø¨Ø§Øª: " + cart.map(i => i.name).join(", ");
        }

        function sendOrder() {
            const name = document.getElementById('name').value;
            const addr = document.getElementById('address').value;
            if(!name || !addr) return alert("ÙŠØ±Ø¬Ù‰ ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø§Ø³Ù… ÙˆØ§Ù„Ø¹Ù†ÙˆØ§Ù†!");
            
            const msg = `Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ Ù…Ù†: ${name}\nØ§Ù„Ø¹Ù†ÙˆØ§Ù†: ${addr}\nØ§Ù„Ø·Ù„Ø¨Ø§Øª: ${cart.map(i => i.name).join(", ")}`;
            window.open(`https://wa.me/213661000000?text=${encodeURIComponent(msg)}`);
        }
    </script>
</body>
</html>
